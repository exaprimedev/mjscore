<!doctype html>
<html lang="ja">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RYBD16946Q"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-RYBD16946Q');
</script>
    <!-- Google Tag Manager -->
    <script>
        (function(w, d, s, l, i) {
            w[l] = w[l] || [];
            w[l].push({
                'gtm.start': new Date().getTime(),
                event: 'gtm.js'
            });
            var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s),
                dl = l != 'dataLayer' ? '&l=' + l : '';
            j.async = true;
            j.src =
                'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
            f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-NW66QRP');
    </script>
    <!-- End Google Tag Manager -->
    <!-- Favicons -->
    <link rel="apple-touch-icon" href="imgs/favicons/apple-icon-180x180.png" sizes="180x180">
    <link rel="icon" href="imgs/favicons/favicon-32x32.png" sizes="32x32" type="image/png">
    <link rel="icon" href="imgs/favicons/favicon-16x16.png" sizes="16x16" type="image/png">
    <link rel="manifest" href="imgs/favicons/manifest.json">
    <link rel="icon" href="imgs/favicons/favicon.ico">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <title>mjscored</title>
</head>

<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NW66QRP"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <header class="sticky-top">
        <div style="text-align: center;">
            <img src="imgs/banner.png"  class="img-fluid">
        </div>
        <input type="hidden" id="mode" value="">
        <div id="div1st">
        </div>
        <div id="errorcr" class="alert alert-danger  alert-dismissible fade show" style="margin-bottom: 0rem; display:none;" role="alert">
            <strong>入力エラー<br>全員またはトップ以外のスコアを入力してください<br>または不正な数値が入力されています</strong>
        </div>
    </header>
    <!-- Modal -->
    <div class="modal fade" id="manual" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="manualLabel" aria-hidden="true">
        <div class="modal-dialog modal-fullscreen">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="manualLabel">ヘルプ</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="accordion" id="accordionPanelsStayOpenExample">
                        <div class="accordion-item">
                          <h2 class="accordion-header" id="panelsStayOpen-headingOne">
                            <button type="button" class="accordion-button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="true" aria-controls="panelsStayOpen-collapseOne">
                                はじめに
                            </button>
                          </h2>
                          <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse show" aria-labelledby="panelsStayOpen-headingOne">
                            <div class="accordion-body">
                                <div class="card" style="width: 100%;">
                                    <img src="imgs/mjscoredlogo.png" class="card-img-top" alt="...">
                                    <div class="card-body">
                                        <p class="card-text"><b>「mjscored」</b>とは <br> <br>誰でも利用できるスマホで簡単操作の麻雀成績表WEBアプリです。 <br>会員登録やログインも不要。機能を絞って雀荘に置いてあるあの紙をそのまま、それ以上でも以下でもない使い勝手を目指しました。
                                        </p>
                                    </div>
                                </div>
                                <div class="card" style="width: 100%;">
                                    <div class="card-body">
                                        <p class="card-text"><b>基本的な使い方</b><br> <br>①設定から3人打ちor4人打ちを選択<br>②メンバーの名前を入力してOK<br>③トップ以外のスコアを入力して確定<br><br>※画面を更新するとスコアがリセットされます。
                                        </p>
                                    </div>
                                    <div style="text-align:center;"><img src="imgs/howtouse.gif" class="card-img-bottom" style="width:90%"></div>
                                </div>
                            </div>
                          </div>
                        </div>
                        <div class="accordion-item">
                          <h2 class="accordion-header" id="panelsStayOpen-headingTwo">
                            <button type="button" class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseTwo" aria-expanded="false" aria-controls="panelsStayOpen-collapseTwo">
                              よくある質問
                            </button>
                          </h2>
                          <div id="panelsStayOpen-collapseTwo" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingTwo">
                            <div class="accordion-body">
                                <div class="card p-3">
                                    <blockquote class="blockquote">
                                        <p>スコアを修正したい場合どうすればいいですか？</p>
                                    </blockquote>
                                    <figcaption class="blockquote-footer mb-0 text-muted">
                                        今回行の対象者にスコアを入力し調整してください。修正しないプレイヤーのスコアは0を入力してください。
                                    </figcaption>
                                </div>
                                <div class="card p-3">
                                    <blockquote class="blockquote">
                                        <p>対局結果を保存したい。</p>
                                    </blockquote>
                                    <figcaption class="blockquote-footer mb-0 text-muted">
                                        スクリーンショットやブラウザの機能でPDF保存するようお願いします。
                                    </figcaption>
                                </div>
                                <div class="card p-3">
                                    <blockquote class="blockquote">
                                        <p>行きつけの雀荘の電波が悪く圏外でも使えますか？</p>
                                    </blockquote>
                                    <figcaption class="blockquote-footer mb-0 text-muted">
                                        一度サイトにアクセスしたら以降はオフラインで動作します。
                                    </figcaption>
                                </div>
                                <div class="card p-3">
                                    <blockquote class="blockquote">
                                        <p>同点トップの場合どうすればいいですか？</p>
                                    </blockquote>
                                    <figcaption class="blockquote-footer mb-0 text-muted">
                                        全員分のスコアを入力後、確定ボタンを押してください。そのままのスコアが反映されます。
                                    </figcaption>
                                </div>
                                <div class="card p-3">
                                    <blockquote class="blockquote">
                                        <p>抜け番ありの5人打ちはできますか？</p>
                                    </blockquote>
                                    <figcaption class="blockquote-footer mb-0 text-muted">
                                        現状できません、4人打ち以上は未対応です。
                                    </figcaption>
                                </div>
                                <div class="card p-3">
                                    <blockquote class="blockquote">
                                        <p>PCで利用できますか？</p>
                                    </blockquote>
                                    <figcaption class="blockquote-footer mb-0 text-muted">
                                        問題なくご利用いただけますがレイアウトはスマホに最適化されています。
                                    </figcaption>
                                </div>
                                <div class="card p-3">
                                    <blockquote class="blockquote">
                                        <p>半荘終了時卓外に供託がある場合どうすればいいですか？</p>
                                    </blockquote>
                                    <figcaption class="blockquote-footer mb-0 text-muted">
                                        全員分のスコアを入力後、確定ボタンを押してください。そのままのスコアが反映されます。
                                    </figcaption>
                                </div>
                            </div>
                          </div>
                        </div>
                        <div class="accordion-item">
                          <h2 class="accordion-header" id="panelsStayOpen-headingThree">
                            <button type="button" class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseThree" aria-expanded="false" aria-controls="panelsStayOpen-collapseThree">
                              twitter＆お問合せ
                            </button>
                          </h2>
                          <div id="panelsStayOpen-collapseThree" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingThree">
                            <div class="accordion-body">
                                <div style="text-align: center"><a class="twitter-timeline" data-height="500" href="https://twitter.com/mjscored?ref_src=twsrc%5Etfw">Tweets by mjscored</a>
                                    <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
                                </div>
                                <iframe src="https://docs.google.com/forms/d/e/1FAIpQLSeUKI1aSLd3CaGhQWx43ZY6mhWDKGZqvV8m6fhIdD6QzmiFCg/viewform?embedded=true" width="100%" height="844" frameborder="0" marginheight="0" marginwidth="0">読み込んでいます…</iframe>
                            </div>
                          </div>
                        </div>
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="panelsStayOpen-headingfour">
                              <button type="button" class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapsefour" aria-expanded="false" aria-controls="panelsStayOpen-collapsefour">
                                利用規約
                              </button>
                            </h2>
                            <div id="panelsStayOpen-collapsefour" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingfour>
                              <div class="accordion-body">
                                <div class="panel-body">
                                    mjscored（以下「当サイト」と言う）に関する利用規約（以下『本規約』）を以下の通り定めます。<br>
                                    当サイトご利用にあたっては本規約の内容をお読みいただき、予めご承諾いただいた場合のみご利用ください。<br><br>
                                    本規約の内容は必要に応じて予告なしに改訂できるものとします。ご利用の際には、最新の利用規約をご参照ください。また、今後規約の改訂があった場合も、利用者（以下「ユーザー」）の皆様にはその内容に引き続き同意いただいているものとみなされます。<br><br>
                                    <h5><u>禁止行為</u></h5>
                                    ユーザーは当サイトの使用にあたって、下記のいずれかに該当・類似する行為を行わないものとします。<br>
                                    ・公序良俗に反する行為<br>
                                    ・犯罪行為に結びつく行為<br>
                                    ・法令に違反する行為<br>
                                    ・宣伝や商用を目的とした行為<br>
                                    ・当サイトからの電子メール又は当サイトの内容の無断転載及び再配布<br>
                                    ・コンピュータウィルス等、当サイトのシステムインフラに障害を及ぼす行為<br>
                                    ・当サイト上に掲載された情報を不正に改ざん、消去する行為。又は虚偽の情報を掲載する行為<br>
                                    ・その他、当サイトが不適切と判断する行為
                                    <h5><u>ユーザー間の情報</u></h5>
                                    当サイトを通じてユーザー同士でなされた情報の授受、及びそれに付随して行われる行為については当サイトは一切の責任を負わないものとします。
                                    <h5><u>サービスについて</u></h5>
                                    当サイトは提供しているサービスを予告なく変更、又は中止する場合があります。<br>
                                    当サイトは下記に該当する場合、サービスの一部もしくは全部を一時中断、又は停止する場合があります。<br>
                                    ・当サイト及びそれにかかるネットワーク等のシステムの定期保守、更新ならびに緊急の場合<br>
                                    ・火災・停電・天災などの不可抗力により、サービスの提供が困難な場合<br>
                                    ・その他、不測の事態により当サイトがサービスの提供が困難と判断した場合<br>
                                    これらによりユーザー又は第三者に不利益、損害が発生した場合、当サイトはその責任を負わないものとします。<br>
                                    <h5><u>権利帰属</u></h5>
                                    ・当サイトのデザインや構造等の著作権はすべて当サイトに帰属します。<br>
                                  </div>
                              </div>
                            </div>
                          </div>
                          <div class="accordion-item">
                            <h2 class="accordion-header" id="panelsStayOpen-headingfive">
                              <button type="button" class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapsefive" aria-expanded="false" aria-controls="panelsStayOpen-collapsefive">
                                プライバシーポリシー
                              </button>
                            </h2>
                            <div id="panelsStayOpen-collapsefive" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingfive">
                              <div class="accordion-body">
                                <div class="panel-body">
                                    mjscored（以下「当サイト」と言う）における閲覧者（以下「ユーザ」と言う）の個人情報取り扱い、および広告等の表記、その他運営に関する指針を示すものです。
                                    <h5><u>アクセス解析について</u></h5>
                                    当サイトでは、コンテンツの拡充やサイト運営を目的として、以下のサービスとcookieによるアクセス解析を利用しています。これにより得られる情報は匿名であり、ユーザ個人が特定されることはありません。
                                    <h5>Googleアナリティクス</h5>
                                    Googleが運営するアクセス解析ツールです。<br />この機能はCookieを無効にすることで情報の収集を拒否することが出来ます。詳細はお使いのWebブラウザの機能説明をご確認下さい。
                                    <h5><u>広告について</u></h5>
                                    当サイトでは、現在第三者配信による広告サービスの利用はありません。
                                    <h5><u>免責事項</u></h5>
                                    上記の提携サービスおよびシステム障害により生じる損害について、当サイト管理者は責任を負わないものとします。
                                    <h5><u>特記事項</u></h5>
                                    本規約は準拠法の変更、および利用サービス規約の変更に伴い随時追加・変更されます。<br /><br />
                                  </div>
                              </div>
                            </div>
                          </div>
                        </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">close</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal -->
    <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog modal-fullscreen">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="staticBackdropLabel">設定</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <select class="form-select" id="inputGroupSelect01" onchange="getform(this);">
                            <option selected>選択してください</option>
                            <option value="4">4人打ち</option>
                            <option value="3">3人打ち</option>
                    </select>
                    <div id="errormode" class="alert alert-danger  alert-dismissible fade show" role="alert" style="display:none;margin-bottom: 0rem;">
                        <strong>選択してください</strong>
                    </div>
                    <div id="div4p" style="display:none;">
                        <div class="input-group">
                            <span class="input-group-text">player1</span>
                            <input type="text" aria-label="First name" class="form-control form4p" oninput="setpname(this,1,4)">
                        </div>
                        <div class="input-group">
                            <span class="input-group-text">player2</span>
                            <input type="text" aria-label="First name" class="form-control form4p" oninput="setpname(this,2,4)">
                        </div>
                        <div class="input-group">
                            <span class="input-group-text">player3</span>
                            <input type="text" aria-label="First name" class="form-control form4p" oninput="setpname(this,3,4)">
                        </div>
                        <div class="input-group">
                            <span class="input-group-text">player4</span>
                            <input type="text" aria-label="First name" class="form-control form4p" oninput="setpname(this,4,4)">
                        </div>
                        <div id="error4p" class="alert alert-danger  alert-dismissible fade show" role="alert" style="margin-bottom: 0rem;display:none;">
                            <strong>全員の名前を入力して下さい</strong>
                        </div>
                        <div id="div4pdisp" style="display:none;">
                            <div class="input-group" id="rowtotal4p">
                                <span class="input-group-text" style="background-color: #d1e7dd;color: #0f5132;"><b>合計</b></span>
                                <input type="number" aria-label="First name" class="form-control" readonly="" style="background-color:#d1e7dd;text-align:right;" id="modaltotalp1_4">
                                <input type="number" aria-label="First name" class="form-control" readonly="" style="background-color:#d1e7dd;text-align:right;" id="modaltotalp2_4">
                                <input type="number" aria-label="First name" class="form-control" readonly="" style="background-color:#d1e7dd;text-align:right;" id="modaltotalp3_4">
                                <input type="number" aria-label="First name" class="form-control" readonly="" style="background-color:#d1e7dd;text-align:right;" id="modaltotalp4_4">
                            </div>
                            <div id="header4p" class="input-group">
                                <span class="input-group-text" style="background-color: #cfe2ff;color: #084298;"><b>名前</b></span>
                                <input type="text" aria-label="First name" class="form-control" id="p1name_4" readonly="" style="background-color:#cfe2ff;color: #084298;text-align:center;font-weight:bold;">
                                <input type="text" aria-label="First name" class="form-control" id="p2name_4" readonly="" style="background-color:#cfe2ff;color: #084298;text-align:center;font-weight:bold;">
                                <input type="text" aria-label="First name" class="form-control" id="p3name_4" readonly="" style="background-color:#cfe2ff;color: #084298;text-align:center;font-weight:bold;">
                                <input type="text" aria-label="First name" class="form-control" id="p4name_4" readonly="" style="background-color:#cfe2ff;color: #084298;text-align:center;font-weight:bold;">
                            </div>
                            <div class="input-group" id="modalrowcr4p">
                                <span id="numcr" class="input-group-text"><b>今回</b></span>
                                <input type="number" aria-label="First name" class="form-control modalscorecr4p colp1" style="text-align:right;" id="modalcolp1">
                                <input type="number" aria-label="Last name" class="form-control modalscorecr4p colp2" style="text-align:right;" id="modalcolp2">
                                <input type="number" aria-label="Last name" class="form-control modalscorecr4p colp3" style="text-align:right;" id="modalcolp3">
                                <input type="number" aria-label="Last name" class="form-control modalscorecr4p colp4" style="text-align:right;" id="modalcolp4">
                            </div>
                        </div>
                    </div>
                    <div id="div3p" style="display:none;">
                        <div class="input-group">
                            <span class="input-group-text">player1</span>
                            <input type="text" aria-label="First name" class="form-control form3p" oninput="setpname(this,1,3)">
                        </div>
                        <div class="input-group">
                            <span class="input-group-text">player2</span>
                            <input type="text" aria-label="First name" class="form-control form3p" oninput="setpname(this,2,3)">
                        </div>
                        <div class="input-group">
                            <span class="input-group-text">player3</span>
                            <input type="text" aria-label="First name" class="form-control form3p" oninput="setpname(this,3,3)">
                        </div>
                        <div id="error3p" class="alert alert-danger  alert-dismissible fade show" role="alert" style="margin-bottom: 0rem;display:none;">
                            <strong>全員の名前を入力してください</strong>
                        </div>
                        <div id="div3pdisp" style="display:none;">
                            <div class="input-group" id="rowtotal3p">
                                <span class="input-group-text" style="background-color: #d1e7dd;color: #0f5132;"><b>合計</b></span>
                                <input type="number" aria-label="First name" class="form-control" readonly="" style="background-color:#d1e7dd;text-align:right;" id="modaltotalp1_3">
                                <input type="number" aria-label="First name" class="form-control" readonly="" style="background-color:#d1e7dd;text-align:right;" id="modaltotalp2_3">
                                <input type="number" aria-label="First name" class="form-control" readonly="" style="background-color:#d1e7dd;text-align:right;" id="modaltotalp3_3">
                            </div>
                            <div id="header3p" class="input-group">
                                <span class="input-group-text" style="background-color: #cfe2ff;color: #084298;"><b>名前</b></span>
                                <input type="text" aria-label="First name" class="form-control" id="p1name_3" readonly="" style="background-color:#cfe2ff;color: #084298;text-align:center;font-weight:bold;">
                                <input type="text" aria-label="First name" class="form-control" id="p2name_3" readonly="" style="background-color:#cfe2ff;color: #084298;text-align:center;font-weight:bold;">
                                <input type="text" aria-label="First name" class="form-control" id="p3name_3" readonly="" style="background-color:#cfe2ff;color: #084298;text-align:center;font-weight:bold;">
                            </div>
                            <div class="input-group" id="modalrowcr3p">
                                <span id="numcr" class="input-group-text"><b>今回</b></span>
                                <input type="number" aria-label="First name" class="form-control modalscorecr3p colp1" style="text-align:right;" id="modalcolp1">
                                <input type="number" aria-label="Last name" class="form-control modalscorecr3p colp2" style="text-align:right;" id="modalcolp2">
                                <input type="number" aria-label="Last name" class="form-control modalscorecr3p colp3" style="text-align:right;" id="modalcolp3">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">キャンセル</button>
                    <button type="button" class="btn btn-primary" onclick="start();">OK</button>
                </div>
            </div>
        </div>
    </div>
    <main class="mb-5">
        <div id="div2nd" style="display: flex; flex-direction: column; height: 100%;">
        </div>
    </main>
    <footer class="fixed-bottom">
        <div class="btn-group" style="width:100%;">
            <button class="btn btn-primary" type="button" id="button-addon2" data-bs-toggle="modal" data-bs-target="#staticBackdrop"><b>設定</b></button>
            <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#manual"><b>ヘルプ</b></button>
            <button class="btn btn-primary" type="button" id="button-addon1" onclick="setresult();" disabled><b>確定</b></button>
        </div>
    </footer>
    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
        -->
    <script>
        var isOnIOS = navigator.userAgent.match(/iPad/i) || navigator.userAgent.match(/iPhone/i);
        var eventName = isOnIOS ? "pagehide" : "beforeunload";
        window.addEventListener(eventName, (event) => {
            event.preventDefault();
            event.returnValue = '';
        });

        function setpname(obj, target, mode) {
            document.getElementById("p" + target + "name_" + mode).defaultValue = obj.value;
        }

        function getform(obj) {
            if (obj.value === "4") {
                document.getElementById("div4p").style.display = "";
                document.getElementById("div3p").style.display = "none";
            } else if (obj.value === "3") {
                document.getElementById("div3p").style.display = "";
                document.getElementById("div4p").style.display = "none";
            } else {
                document.getElementById("div3p").style.display = "none";
                document.getElementById("div4p").style.display = "none";
            }
        }

        function start() {
            if (document.getElementById("inputGroupSelect01").value === "選択してください") {
                document.getElementById("errormode").style.display = "";
            } else {
                document.getElementById("errormode").style.display = "none";
                const elems = document.getElementsByClassName("form-control form" + document.getElementById("inputGroupSelect01").value + "p");
                let isEmpty = false;
                for (let i = 0; i < elems.length; i++) {
                    if (elems[i].value === "") {
                        isEmpty = true;
                    }
                }
                if (isEmpty) {
                    document.getElementById("error" + document.getElementById("inputGroupSelect01").value + "p").style.display = "";
                    isEmpty = false;
                } else {
                    let div1stHtml = "";
                    if (document.getElementById("inputGroupSelect01").value === "4") {
                        div1stHtml = document.getElementById("div4pdisp").innerHTML;
                        document.getElementById("mode").defaultValue = "4";
                    } else if (document.getElementById("inputGroupSelect01").value === "3") {
                        div1stHtml = document.getElementById("div3pdisp").innerHTML;
                        document.getElementById("mode").defaultValue = "3";
                    }
                    document.getElementById("div1st").innerHTML = div1stHtml.replace(/modal/g, "");
                    $("#button-addon1").prop("disabled", false);
                    $("#button-addon2").prop("disabled", true);
                    $('#staticBackdrop').modal('hide')
                }
            }
        }

        function setresult() {
            const elems = document.getElementsByClassName("form-control scorecr" + document.getElementById("mode").value + "p");
            let resultrow = document.getElementsByClassName("input-group resultrow");
            let resulthtml = document.getElementById("div2nd").innerHTML;
            let htotal = 0;
            let topidx = 0;
            let emptycount = 0;
            for (let i = 0; i < elems.length; i++) {
                if (elems[i].value === "") {
                    emptycount++;
                }
            }
            if (emptycount > 1) {
                document.getElementById("errorcr").style.display = "";
                emptycount = 0;
            } else {
                for (let i = 0; i < elems.length; i++) {
                    if (elems[i].value !== "") {
                        document.getElementById("colp" + (i + 1)).defaultValue = elems[i].value
                        htotal = htotal + parseFloat(elems[i].value);
                    } else {
                        topidx = i;
                    }
                }
                if (emptycount !== 0) {
                    document.getElementById("colp" + (topidx + 1)).defaultValue = Math.round((0 - htotal) * 10) / 10;
                }
                document.getElementById("div2nd").innerHTML = resulthtml + document.getElementById("rowcr" + document.getElementById("mode").value + "p").outerHTML.replace(/scorecr/g, "scoreresult").replace(/class="input-group"/g, 'class="input-group resultrow"').replace(/input /g, "input readonly ").replace(/colp/g, "colresult_p").replace(/numcr/g, "numresult" + resultrow.length).replace(/今回/g, replaceHalfToFull(('00' + (resultrow.length + 1)).slice(-2)));
                for (let i = 0; i < elems.length; i++) {
                    document.getElementById("colp" + (i + 1)).value = ""
                }
                document.getElementById("errorcr").style.display = "none";
                for (let i = 0; i < document.getElementById("mode").value; i++) {
                    const resultelems = document.getElementsByClassName("form-control scoreresult" + document.getElementById("mode").value + "p colresult_p" + (i + 1));
                    let ptatal = 0;
                    for (let y = 0; y < resultelems.length; y++) {
                        ptatal = ptatal + parseFloat(resultelems[y].value);
                    }
                    console.log((i + 1) + ":" + ptatal)
                    document.getElementById("totalp" + (i + 1) + "_" + document.getElementById("mode").value).defaultValue = Math.round(ptatal * 10) / 10;
                }
            }
        }

        function replaceHalfToFull(str) {
            return str.replace(/[!-~]/g, function(s) {
                return String.fromCharCode(s.charCodeAt(0) + 0xFEE0);
            });
        }
    </script>
</body>

</html>